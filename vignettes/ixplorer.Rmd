---
title: "ixplorer gadgets"
author: "ixpantia"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{ixplorer gadgets}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Gadgets de ixplorer 

Los gadgets de ixplorer son una forma de crear y revisar los tiquetes de su 
proyecto sin tener de salir de RStudio y más importante aún: sin tener que 
interrumpir su flujo de trabajo.

# ¿Cómo usar los gadgets de ixplorer?

Primero tenemos que instalar el paquete ixplorer:

```{r, eval = FALSE}
devtools::install_github("ixpantia/gitear")
```

Cuando estamos listos con la instalación podremos ver tres opciones en el 
menú de *Addins* bajo el encabezado IXPLORER

 - Autentificación
 - Crear tiquete
 - Tiquetes actuales

![](img/addins.png)

## Gadget de Autentificación 

Este es el primer paso para poder generar tiquetes o revisarlos dentro de su
repositorio de determinado proyecto. Necesitará  un token API. (Que será 
proveído por su administración del proyecto.)

![](img/credential_5.png)

En el segmento del **URL ixplorer** es necesario asegurarse de incluir la 
dirección de internet de su repositorio ixplorer. Deberá de ser similar 
a `https://ixplorer_name.ixpantia.com`

El siguiente paso es llenar el nombre del **proyecto upstream**. Este es el 
proyecto donde la versión fuente de su repositorio reside. Desde ésta fuente,
usted y otros miembros del equipo habrán bifurcado y clonado el repositorio
para generar cambios y proponerlos como solicitudes de fusión. En el flujo de 
trabajo, todos los tiquetes se manejan  de manera centralizada en el proyecto
**upstream**. Cualquier tiquete que sea generado un su bifurcación personal, no 
será visualizado a través del ixplorer gadget (y en general no recomendamos
trabajar con tiquetes personales)

En el segmento de **nombre del repositorio ixplorer** por favor escriba el 
nombre del repositorio en específico sobre el cual desea trabajar en la
sesión activa del proyeto de RStudio.

Finalmente usted tiene que especificar su nombre de usuario en la sección
**nombre de usuario de ixplorer**. Es el mismo nombre de usuario que se utiliza
para acceder a su entorno ixplorer.

Adicionalmente, el gadget de auntetificación cuenta con un espacio opcional para
para elegir su idioma preferido. Los gadgets posteriores serán desplegados
siempre en el idioma que usted elija.

Una vez que se presione el botón "listo" o "done" es posible que se le pida 
establecer una contraseña. Esta contraseña puede ser requerida la próxima ve que 
usted inicie una nueva sesión y quiera obtener información de esta instancia, por
ejemplo sus tiquetes abiertos. Por lo tanto es importante almacenar esta contraseña
en un lugar seguro, preferiblemente un gestor de contraseñas apropiado.

Si usted ya ha guardado previamente sus credenciales para alguna instancia
se puede dirigir directamente a la pestaña de "ixploring" o "ixplorando"en 
el gadget. Aquí se le mostrará la opción para elegir la instancia en la que 
quiere trabajar, luego la opción para elegir entre los proyectos de esa instancia
y finalmente los repositorios.

![](img/credential_6.png)

Tener precaución en este paso si se encuentra trabajando sobre la computadora
de alguien más, ya que sus datos de autentificación serán guardado en esa 
computadora. Por ende si va a trabajar en la computadora de alguien más o en 
una computadora compartida, lo mejor será usar la funcion eliminar_credenciales()
o bien delete_credentials() al final de su sesión de trabajo para eliminar 
completamente las credenciales de su computador.


## Gadget crear un tiquete

A este punto deberá de haber concluido el proceso de autentificación. Si esto
es correcto usted será capaz de crear un tiquete ¡sin tener que salir de RStudio!

Si todo está correcto, usted verá la sección de **título del tiquete** y 
**Descripcción**. Sino es así, verá un texto de advertencia mencionando lo que 
está faltando. Este gadget funciona sobre la ultima instancia que usted haya 
guardado en el gadget de autentifiación. Un mensaje del tipo "usted está 
actualmente en la instancia de prueba" aparece en su consola para que se pueda
cerciorar de que está creando el tiquete en el repositorio apropiado. Esta ventana 
aparecerá en el idioma que haya guardado en el gadget de autentificación

![](img/create_ticket_gadget.png)

En este gadget usted puede crear un tiquete sin perder su flujo de trabajo o ideas.
Si necesita crear un nuevo tiquete (deseo/mejora/pregunta/error) usted puede ir
a Addins > Crear tiquete y bajo la sección **Titulo del tiquete** puede escribir
el título que identifica el nuevo tiquete y bajo la sección **Descripción** 
ingrese la idea del tiquete.

Este tiquete aparecerá en su repositorio de ixplorer bajo los tiquetes abiertos.

## Tiquete actuales

Este gadget está diseñado para darle un vistazo rápido de los tiquetes activos
y su estado. Además encontrará los enlaces que lo llevarán al ixplorer si desea
revisar detalles tales como comentarios o hacer cambios a los tiquetes tales 
como fechas límites de asignaciones.

En la primera pestaña **Mis tiquetes** podrá encontrar los tiquetes asignados a
usted con el número de identificación que también es un enlace al tiquete
en el entorno ixplorer. Así mismo verá la columna con el número de días
que restan (en color verde) o días pasados la fecha límite (en color rojo).

Esta ventana funciona sobre la ultima instancia que usted haya guardado en el
gadget de autentificación. Un mensaje del tipo "usted está actualmente en la
instancia de prueba" se imprimirá en su consola para ayudar a cerciorarse de que
esta viendo los tiquetes de la instancia correcta. Para cambiar la instancia 
puede usar la pestaña "ixploring" del gadget de autentifiación.
Esta ventana aparecerá en el idioma que usted haya previamente seleccionado.


![](img/my_tickets.png)

En la segunda pestaña **Tiquete del equipo** podrá revisar todos los tiquetes
abiertos relacionados al proyecto actual y asignados a todos los miembros del 
equipo menos a usted. El número de identificación es un enlace a la información
completa del tiquete en el entorno ixplorer y la columna "fecha límite" es
cuántos días restan (en verde) o cuántos días han sido sobrepasados (en rojo) con
respecto a la fecha límite.

![](img/team_tickets.png)

Finalmente la pestaña de **Enlaces rápidos** tiene los enlaces a los componentes
principales del repositorio del proyecto, así no tendrá que escribir mucho en
su navegdor web para encontrar una dirección en específico.

Estos enlaces le permitirán encontrar de una manera más rápida detalles
específicos del repositorio de su proyecto como tiquetes cerrados, hitos, el
wiki o el sitio del proyecto donde se encuentran otros repositorios concernientes.

![](img/quick_links.png)


# Funciones adicionales

A parte de los gadgets, ixplorer ofrece las siguientes funciones para obtener
informacion desde la consola.

* **listar_tiquetes_abiertos()**: Devuelve un tibble con sus tiquetes abiertos. 
Utiliza, por default, la ultima instancia que guardó en el gadget de autentificación.
Sin embargo, se puede espeficiar la instancia deseada utilizando la variable "instancia" dentro de la función. También se puede especificar el número de días 
hacia atrás de donde quiera obtener los tiquetes.

* **listar_tiquetes_cerrados()**: Devuelve un tibble con sus tiquetes cerrados. 
Utiliza, por default, la ultima instancia que guardó en el gadget de autentificación.
Sin embargo, se puede espeficiar la instancia deseada utilizando la variable "instancia" dentro de la función. También se puede especificar el número de días 
hacia atrás de donde quiera obtener los tiquetes.

* **list_open_pr()**: Devuelve un tibble con sus solicitudes de fusión abiertas.
Está función busca las solicitudes de fusión asignadas a usted en todas sus instancias de ixplorer guardadas por defecto. Sin embargo, tanto la instancia 
como la persona asignada pueden espeficicarse.


# Funciones para facilitar el control de versiones

* **actualizar_rama()**: Permite actualizar su rama master desde su upstream
autmaticamente mediante un rebase. Hace los pasos que usualmente usamos,
fetch upstream, checkout master, rebase upstream/master, y push.

* **incluye_upstream()**: Permite incluir su upstream directamente de su
repositorio activo en Rstudio. Por default toma la información de la ultima
instancia guardada en 

* **set_git_timeout()**: Permite espeficiar el tiempo que desea guardar sus
credenciales de git en su servior remoto. El default es de 4 horas. La 
función toma su tiempo en segundos.





